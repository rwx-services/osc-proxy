#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative '../lib/version'
require_relative '../lib/osc_proxy'

begin
  config = OSCProxy::Config.from_cli(ARGV)
  proxy = OSCProxy::Proxy.new(config)
  proxy.start
rescue StandardError => e
  warn "Error: #{e.message}"
  warn e.backtrace.join("\n") if ENV['DEBUG']
  exit 1
end
